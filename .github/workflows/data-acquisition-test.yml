name: æ•°æ®è·å–æµ‹è¯•å·¥ä½œæµ
on:
  workflow_dispatch:
    inputs:
      test_data:
        description: 'æµ‹è¯•æ•°æ®'
        required: false
        default: 'default'
        type: string

jobs:
  data-acquisition:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - name: æ£€æŸ¥ä»£ç 
        uses: actions/checkout@v5

      - name: è®¾ç½®ç¯å¢ƒ
        run: |
          echo "æµ‹è¯•æ•°æ®: ${{ github.event.inputs.test_data }}"
          echo "GitHub SHA: ${{ github.sha }}"
          echo "è¿è¡Œç¯å¢ƒ: ${{ runner.os }}"

      - name: æ¨¡æ‹Ÿæ•°æ®è·å–
        id: data_fetch
        run: |
          # æ¨¡æ‹Ÿæ•°æ®è·å–è¿‡ç¨‹
          echo "å¼€å§‹è·å–æ•°æ®..."
          sleep 5
          echo "æ•°æ®è·å–å®Œæˆï¼"
          # è®¾ç½®è¾“å‡ºæ•°æ®
          echo "data=è·å–åˆ°çš„æ•°æ®: ${{ github.event.inputs.test_data }}" >> $GITHUB_OUTPUT

      - name: å¤„ç†è·å–çš„æ•°æ®
        run: |
          echo "å¼€å§‹å¤„ç†æ•°æ®..."
          echo "è·å–åˆ°çš„æ•°æ®: ${{ steps.data_fetch.outputs.data }}"
          # æ¨¡æ‹Ÿæ•°æ®å¤„ç†
          sleep 3
          echo "æ•°æ®å¤„ç†å®Œæˆï¼"

      - name: éªŒè¯æ•°æ®
        run: |
          echo "éªŒè¯æ•°æ®å®Œæ•´æ€§..."
          # æ¨¡æ‹Ÿæ•°æ®éªŒè¯
          if [ "${{ github.event.inputs.test_data }}" = "default" ]; then
            echo "âœ… æ•°æ®éªŒè¯é€šè¿‡ï¼"
          else
            echo "âœ… æ•°æ®éªŒè¯é€šè¿‡ï¼æµ‹è¯•æ•°æ®: ${{ github.event.inputs.test_data }}"
          fi

      - name: è¾“å‡ºç»“æœ
        run: |
          echo "ğŸ‰ æ•°æ®è·å–å·¥ä½œæµè¿è¡ŒæˆåŠŸï¼"
          echo "ğŸ“Š æ•°æ®è·å–å’Œå¤„ç†éƒ½å·²å®Œæˆ"
          echo "âœ… æ‰€æœ‰æ­¥éª¤éƒ½æˆåŠŸæ‰§è¡Œ"
